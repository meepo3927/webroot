!function(t){function e(e){for(var i,s,o=e[0],l=e[1],c=e[2],f=0,d=[];f<o.length;f++)s=o[f],r[s]&&d.push(r[s][0]),r[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);for(u&&u(e);d.length;)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={3:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/wboo/dist/";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;a.push([59,0]),n()}({17:function(t,e,n){"use strict";(function(t){var i=n(30),r=n.n(i),a=1,s={image:"jpg,png,jpeg,gif",excel:"xlsx,xls"},o={image:"图片",excel:"Excel"},l=void 0!==window.FileReader,c=function(t){return"请选择["+function(t){return t=t?t.toLowerCase():"",o[t]||t}(t)+"]类型的文件"},u=function(t,e,n){var i={ok:!0};if(!e)return i;if(t.files&&0===t.files.length)return i;t.files&&t.files[0];return function(t,e){var n={ok:!1,errmsg:c(t)};if(-1===e.indexOf("."))return n;var i=e.split(".").pop();return i&&(s[t]||"").toLowerCase().split(",").indexOf(i)>=0?{ok:!0}:n}(e,n)},f={removeFileInput:function(){var e=t(this.$refs.form).children(".v-file");e.length&&e.remove()},makeFileInput:function(){var e=this,n=t('<input type="file" class="v-file" />');n.css("display","none"),n.attr("id",this.elemId),n.attr("name",this.myElemName),n.on("change",function(t){e.change(t)}),t(this.$refs.form).append(n)},getFileInputElem:function(){return t(this.$refs.form).children(".v-file")[0]},reset:function(){this.fileValue="",this.filePath="",this.errmsg="",this.removeFileInput(),this.makeFileInput()},checkType:function(t){if(!(t=t||this.getFileInputElem()))return!0;var e=u(t,this.filetype,this.file);return!!e.ok||e.errmsg},change:function(t){var e=t.target||t.currentTarget,n=e.value;this.filePath=n;var i=this.checkType(e);return!0!==i?(this.fileValue="",this.errmsg=i,!1):!!n&&(this.fileValue=n,void(this.checkNull()&&(this.errmsg="",this.sendOnSelect&&this.send())))},preview:function(t){var e=this;if(!t)return!1;var n=t[0];if(!n)return!1;if(!l)return!1;var i=new window.FileReader;i.onload=function(){e.$emit("preview",i.result)},i.readAsDataURL(n)},checkNull:function(){return!!this.fileValue||"请上传文件"},check:function(){if(this.silent)return!0;var t=this.checkType();return!0!==t?(this.errmsg=t,!1):!0!==(t=this.checkNull())?(this.errmsg=t,!1):(this.errmsg="",!0)},checkAndSend:function(){if(this.loading)return!1;if(!this.filePath)return this.errmsg="请选择文件",!1;var t=this.checkType();return!0!==t?(this.errmsg=t,!1):this.send()},send:function(){var t=this;this.loading=!0,r()(this.$refs.form,{success:function(e){t.loading=!1,t.$emit("success",e),e.success&&t.$emit("input",e.data)},error:function(){t.loading=!1,t.fileValue="",t.errmsg="上传失败"}}).send()}},d={elemId:function(){return"v_file_upload_"+this.id},myText:function(){return this.loading?"上传中..":this.labelText||"选择文件"},myElemName:function(){return this.elemName||"file"},file:function(){return this.filePath?this.filePath.split("\\").pop().split("/").pop():""},formAction:function(){return this.action},errmsgVisible:function(){return!!this.errmsg},openFileVisible:function(){return!this.errmsgVisible&&!!this.value},selectBtnVisible:function(){return!this.sendBtnVisible},sendBtnVisible:function(){return!this.loading&&!!this.filePath}};e.a={data:function(){return{id:a++,fileValue:"",filePath:"",errmsg:"",loading:!1}},methods:f,computed:d,props:["labelText","elemName","filetype","silent","action","sendOnSelect","value"],mounted:function(){this.makeFileInput()},beforeDestroy:function(){}}}).call(this,n(5))},18:function(t,e,n){var i=n(61);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(2).default)("b2b9fb66",i,!1,{})},19:function(t,e,n){var i=n(63);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(2).default)("0af4d7b6",i,!1,{})},29:function(t,e,n){var i=n(5),r=n(24),a={SELECT:"请在列表中选择一项"};function s(t,e){var n=new r({target:t,text:e,silent:!0,autoShow:!0,skin:"vali"}),i=function(){n&&(n.destroy(),n=null),a&&(document.removeEventListener("click",a),a=null),s&&(clearTimeout(s),s=null)},a=function(t){if(n.elem.contains(t.target))return!1;i()};setTimeout(function(){document.addEventListener("click",a)},100);var s=setTimeout(i,4600)}function o(t,e){return s(t,t.getAttribute("required-errmsg")||e)}function l(t){if(!t)throw Error("Param Form Element Error.");t.jquery&&t[0]?this.$fm=i(t[0]):this.$fm=i(t),this.reset()}var c=l.prototype;c.reset=function(){this.nameStackMap={}},c.check=function(){this.reset();var t=[];this.$fm.find(":input").each(function(e,n){n.disabled||0!==i(n).filter(":visible").length&&(n.getAttribute("required")||n.getAttribute("pattern"))&&t.push(n)});for(var e=0;e<t.length;e++)if(!1===this.checkElem(t[e]))return!1;return!0},c.checkElem=function(t){var e=t.tagName.toUpperCase(),n=(t.getAttribute("type")||"").toLowerCase();return"INPUT"===e?"radio"===n||"checkbox"===n?this.checkRadio(t,n):this.checkValue(t,e):"SELECT"===e?this.checkValue(t,e):"TEXTAREA"===e?this.checkValue(t,e):void 0},c.checkValue=function(t,e){if(t.getAttribute("required")){var n=i(t).val();if(null==n||""===(n+"").trim())return o(t,a[e]||"请填写此字段"),!1}if(t.getAttribute("pattern")){var r=new RegExp(t.getAttribute("pattern"),"i"),l=i(t).val();if(!r.test(l))return function(t,e){s(t,t.getAttribute("pattern-errmsg")||e)}(t,"请填写符合格式要求的内容"),!1}return!0},c.checkRadio=function(t,e){var n=t.getAttribute("name");return!n||(!this.pushInMap(t,"input_"+e+"_"+n)||(!!this.$fm.find("input[type="+e+"][name="+n+"]").filter(":checked").length||(o(t,"请从这些选项中选择一个"),!1)))},c.pushInMap=function(t,e){if(this.nameStackMap[e]){for(var n=0;n<this.nameStackMap[e].length;n++)if(this.nameStackMap[e]===t)return!1;return this.nameStackMap[e].push(t),!0}return this.nameStackMap[e]=[t],!0},t.exports=l},30:function(t,e,n){var i=n(5),r=i.noop,a=1,s={dataType:"json"};function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$form=t,this.options=i.extend(!0,{},s,e)}var l=o.prototype;l.init=function(){this.$form.attr({enctype:"multipart/form-data"})},l.send=function(){this.makeIframe(),this.$form.submit(),this.startFetch()},l.handleContent=function(t,e){if(!t)return this.handleError(e);var n=this.options.success||r,i=this.options.error||r;"json"===this.options.dataType?t&&e?n(e):i(e):t?n(t):i(e)},l.handleError=function(t){(this.options.error||r)(t)},l.makeIframe=function(){this.removeIframe();var t="form-async-prefix-"+a++;this.$iframe=i('<iframe name="'+t+'" src="about:blank" style="display: none;"></iframe>'),this.$iframe.insertAfter(this.$form),this.$form.attr("target",t)},l.removeIframe=function(){this.$iframe&&(this.$iframe.remove(),this.$iframe=null)},l.startFetch=function(){var t=this;!function t(e,n){if(!e)return null;if((n=n||function(){}).is_iframe_fetch_callback)var i=n;else(i=function(t){if(!i.called){if(i.called=!0,e.onload=null,t instanceof Error)return n("",t);try{var r=JSON.parse(t)}catch(t){r=null}return n(t,r)}}).is_iframe_fetch_callback=!0;var r=function(){return t.call(null,e,i)},a=function(){try{var t=e.contentWindow.document;return!!t&&"uninitialized"!==t.readyState&&"loading"!==t.readyState&&null!==t.body&&(t.body.textContent||t.body.innerText)}catch(t){return t}};e.onload=function(){i(a())};var s=a();return s?i(s):setTimeout(r,100)}(this.$iframe[0],function(e,n){t.handleContent(e,n),t.removeIframe()})},l.isPending=function(){return!!this.$iframe},t.exports=function(t,e){var n=void 0;return(n=t.jquery?new o(t,e):new o(i(t),e)).init(),n}},31:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"test-upload"},[n("h4",[t._v("上传测试")]),t._v(" "),t._m(0),t._v(" "),n("div",[n("file-upload",{attrs:{action:"http://localhost/upload"}})],1),t._v(" "),n("div",{staticClass:"mt10"},[n("file-upload",{attrs:{action:"http://localhost/never"}})],1),t._v(" "),n("form",{ref:"fm",staticClass:"m15"},[n("fieldset",[t._m(1),t._v(" "),t._m(2),t._v(" "),n("div",{staticClass:"mm-row mt20"},[n("label",{staticClass:"col-1"},[t._v("性别:")]),t._v(" "),n("div",{staticClass:"pl15"},[n("label",{staticClass:"m-radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],attrs:{type:"radio",name:"gender",value:"man"},domProps:{checked:t._q(t.gender,"man")},on:{change:function(e){t.gender="man"}}}),t._v(" 男\r\n                    ")]),t._v(" "),n("label",{staticClass:"m-radio ml20"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],attrs:{type:"radio",required:"",name:"gender",value:"woman"},domProps:{checked:t._q(t.gender,"woman")},on:{change:function(e){t.gender="woman"}}}),t._v(" 女\r\n                    ")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"woman"===t.gender,expression:"gender === 'woman'"}],staticClass:"mm-row mt20"},[n("label",{staticClass:"col-1",attrs:{for:""}},[t._v("城市：")]),t._v(" "),t._m(3)]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),n("div",{staticClass:"mm-row mt20"},[n("label",{staticClass:"col-1"},[t._v(" ")]),t._v(" "),n("div",{staticClass:"pl15"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.submit}},[t._v("提交")])])])])]),t._v(" "),n("div",{staticClass:"block-1"})])};i._withStripped=!0;n(21);var r=n(29),a=n.n(r),s={submit:function(){this.fmVali.check()&&this.$msg("yes")}},o={data:function(){return{gender:""}},created:function(){},methods:s,computed:{},watch:{},props:[],mounted:function(){window.VM=this,this.fmVali=new a.a(this.$refs.fm)},mixins:[],beforeDestroy:function(){},components:{"file-upload":n(69).default}},l=(n(62),n(0)),c=Object(l.a)(o,i,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("input",{attrs:{type:"text",required:"",id:"a11"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mm-row"},[e("label",{staticClass:"col-1"},[this._v("姓名:")]),this._v(" "),e("div",{staticClass:"pl15"},[e("input",{staticClass:"form-control",attrs:{type:"text",required:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mm-row mt20"},[e("label",{staticClass:"col-1"},[this._v("密码:")]),this._v(" "),e("div",{staticClass:"pl15"},[e("input",{staticClass:"form-control",attrs:{type:"password",required:"",disabled:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pl15"},[e("select",{staticClass:"form-control",attrs:{required:""}},[e("option",{attrs:{value:""}},[this._v("请选择")]),this._v(" "),e("option",[this._v("呼和浩特")]),this._v(" "),e("option",[this._v("呼伦贝尔")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mm-row mt20"},[n("label",{staticClass:"col-1",attrs:{for:""}},[t._v("订购：")]),t._v(" "),n("div",{staticClass:"pl15"},[n("label",{staticClass:"m-checkbox"},[n("input",{attrs:{type:"checkbox",name:"dinggou",required:""}}),t._v(" 杂志\r\n                    ")]),t._v(" "),n("label",{staticClass:"m-checkbox ml20"},[n("input",{attrs:{type:"checkbox",name:"dinggou"}}),t._v(" 服装\r\n                    ")]),t._v(" "),n("label",{staticClass:"m-checkbox ml20"},[n("input",{attrs:{type:"checkbox",name:"dinggou"}}),t._v(" 地漏\r\n                    ")]),t._v(" "),n("label",{staticClass:"m-checkbox ml20"},[n("input",{attrs:{type:"checkbox",name:"dinggou"}}),t._v(" 水龙头\r\n                    ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"m-row mt20"},[e("label",{staticClass:"col-1",attrs:{for:""}},[this._v("简介：")]),this._v(" "),e("div",{staticClass:"pl15"},[e("textarea",{staticClass:"form-control",attrs:{required:""}})])])}],!1,null,"da3348d8",null);c.options.__file="js/pages/upload.vue";e.a=c.exports},4:function(t,e){t.exports=dll},59:function(t,e,n){"use strict";n.r(e),function(t){new t({el:"#main",components:{"v-main":n(31).a}})}.call(this,n(3))},60:function(t,e,n){"use strict";var i=n(18);n.n(i).a},61:function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".v-file-upload[data-v-312db596] {\n  display: table;\n  table-layout: fixed;\n}\n.v-file-upload > label[data-v-312db596] {\n  display: table-cell;\n  vertical-align: middle;\n  height: 32px;\n  line-height: 32px;\n}\n.v-file-upload > em[data-v-312db596] {\n  display: table-cell;\n  width: 8px;\n}\n.v-file-upload .error-msg[data-v-312db596] {\n  color: #ee0000;\n  line-height: 32px;\n}\n.v-file-name[data-v-312db596] {\n  min-width: 200px;\n  padding-right: 10px;\n}\n.v-file-name > div[data-v-312db596] {\n  height: 32px;\n  padding-left: 8px;\n  padding-right: 8px;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  display: block;\n}\n.v-file-name > div[data-v-312db596],\n.v-file-label[data-v-312db596],\n.send-btn[data-v-312db596] {\n  border: 1px solid #eee;\n  background-color: #eee;\n  color: #333;\n  cursor: pointer;\n  white-space: nowrap;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  border-radius: 3px;\n}\n.v-file-label[data-v-312db596],\n.send-btn[data-v-312db596] {\n  border: 1px solid #eee;\n  width: 90px;\n  text-align: center;\n  background-color: #aaa;\n  color: #fff;\n}\n.send-btn[data-v-312db596] {\n  height: 32px;\n  background-color: #5faee3;\n  border-color: #49a3df;\n}\n.open-file[data-v-312db596] {\n  margin-left: 12px;\n  line-height: 32px;\n}\n",""])},62:function(t,e,n){"use strict";var i=n(19);n.n(i).a},63:function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".test-upload[data-v-da3348d8] {\n  padding-top: 15px;\n  padding-left: 15px;\n}\nform[data-v-da3348d8] {\n  border: 1px solid #eee;\n  padding: 12px;\n}\nform .col-1[data-v-da3348d8] {\n  width: 6em;\n}\n.block-1[data-v-da3348d8] {\n  width: 120vw;\n  height: 90vh;\n}\n",""])},69:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"v-file-upload"},[n("label",{staticClass:"v-file-name",attrs:{for:t.elemId}},[n("div",{attrs:{title:t.file},domProps:{textContent:t._s(t.file)}})]),t._v(" "),n("label",{directives:[{name:"show",rawName:"v-show",value:t.selectBtnVisible,expression:"selectBtnVisible"}],staticClass:"v-file-label ml10",attrs:{title:"选择要上传的文件",for:t.elemId},domProps:{textContent:t._s(t.myText)}}),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.sendBtnVisible,expression:"sendBtnVisible"}],staticClass:"send-btn",on:{click:t.checkAndSend}},[t._v("上传")]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.errmsgVisible,expression:"errmsgVisible"}],staticClass:"error-msg ml10",domProps:{textContent:t._s(t.errmsg)}}),t._v(" "),n("a",{directives:[{name:"show",rawName:"v-show",value:t.openFileVisible,expression:"openFileVisible"}],staticClass:"open-file",attrs:{href:t.value,target:"_blank","click-jump":""}},[t._v("查看文件")]),t._v(" "),n("form",{ref:"form",staticStyle:{display:"none"},attrs:{action:t.formAction}},[t._t("default")],2)])};i._withStripped=!0;var r=n(17).a,a=(n(60),n(0)),s=Object(a.a)(r,i,[],!1,null,"312db596",null);s.options.__file="js/comp/common/file-upload.vue";e.default=s.exports}});